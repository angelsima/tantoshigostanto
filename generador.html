
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Generador de Restricciones Narrativas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
            text-align: center;
        }

        .category {
            margin: 20px 0;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
        }

        #traits-display {
            background-color: #fff3cd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .generator-section {
            background-color: #d4edda;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
             margin-right: 10px;
    transition: all 0.3s ease;
}
    

        button:hover {
            background-color: #0056b3;
        }

        .checkbox-group {
            margin: 10px 0;
        }
         .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: #6c757d;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            z-index: 1000;
        }
        optgroup {
    font-style: normal;
    font-weight: bold;
    color: #555;
}

option:disabled {
    color: #999;
    background-color: #f0f0f0;
    font-style: italic;
}
        button:nth-last-child(1) {
    background-color: #dc3545;
}

button:nth-last-child(1):hover {
    background-color: #c82333;
}
    </style>
</head>
<body>
     <a href="index.html" class="back-button">← Volver a Explicaciones</a>
    <h1>Generador de Restricciones Narrativas</h1>

       <div class="category">
        <h3>RESTRICCIONES LINGÜÍSTICAS</h3>
        <select id="linguistic">
            <option value="">Seleccionar...</option>
           <optgroup label="Lipogramas">
            <option>Lipograma sin A</option>
            <option>Lipograma sin E</option>
            <option>Lipograma sin I</option>
            <option>Lipograma sin O</option>
            <option>Lipograma sin U</option>
            </optgroup>
            <option>Onomatopeyas</option>
            <option>Sílaba encadenada</option>
            <option>Solo sintagmas nominales</option>
            <option>Solo infinitivos</option>
            <optgroup label="Fonéticas">
            <option>Aspersor malaguita/sevillita</option>
            <option>Jadeo Canario</option>
            </optgroup>           
        </select>
    </div>
    
    <div class="category">
        <h3>CADENCIAS/PROPORCIONES</h3>
        <select id="proportion">
            <option value="">Seleccionar...</option>
            <option>Número Áureo</option>
            <option>Número Pi</option>
            <option>Compás por Soleá</option>
        </select>
    </div>
    
    <div class="category">
        <h3>RASGOS DE NARRADOR/PERSONAJE</h3>
        <select id="traits">
            <option value="">Seleccionar...</option>
            <option>Criptobro</option>
            <option>Descompuesto</option>
            <option>Impreciso</option>
            <option>Manifiesto</option>
            <option>Numerófilo</option>
            <option>Pasivo-agresivo</option>
            <option>Perfeccionista</option>
            <option>Optimista patológico</option>
            <option>Trendy</option>
            <option>Verborrea</option>
            <option>Whatsapp Telégrafo</option>
        </select>
    </div>

    <div class="category">
        <h3>ESTILOS</h3>
        <select id="style">
            <option value="">Seleccionar...</option>
            <optgroup label="Autores/Corrientes">
            <option>Edgar Allan Poe</option>
            <option>Realismo mágico</option>    
            </optgroup>
            <optgroup label="Estilo">
            <option>Bricomanía</option>
            <option>Telenovela</option>
            <option>Thriller policíaco</option>   
        </select>
    </div>
    
    <div class="category">
        <h3>ESTRUCTURA NARRATIVA</h3>
        <select id="games">
            <option value="">Seleccionar...</option>
            <option>Rebobinado (del final al principio)</option>
            </select>
    </div>

    <div class="category">
        <h3>FORMATO</h3>
        <select id="poetry">
            <option value="">Seleccionar...</option>
            <option>Microrrelato</option>
              <option>Aforismo</option>
            <optgroup label="Poesía">
            <option>Soneto</option>
            <option>Haiku</option>
            <option>Verso libre</option>
            <option>Limerick</option>
            </optgroup>
        </select>
    </div>

    <div id="traits-display">
        <h3>Tienes que escribir un texto con estos rasgos:</h3>
        <div id="selected-traits"></div>
    </div>
 <div class="generator-section">
        <h3>Generador Automático</h3>
        <div class="checkbox-group">
            <label style="display: block;"><input type="checkbox" class="auto-category" value="linguistic"> Juegos Lingüísticos</label>
            <label style="display: block;"><input type="checkbox" class="auto-category" value="proportion"> Cadencia/Proporción</label>
            <label style="display: block;"><input type="checkbox" class="auto-category" value="style"> Estilos</label>
            <label style="display: block;"><input type="checkbox" class="auto-category" value="traits"> Rasgos</label>
            <label style="display: block;"><input type="checkbox" class="auto-category" value="games"> Estructura Narrativa</label>
            <label style="display: block;"><input type="checkbox" class="auto-category" value="poetry"> Poesía</label>
        </div>
        <button onclick="autoGenerate()">Generar Aleatorio</button>
        <button onclick="resetSelections()">Limpiar Selección</button>
    
    </div>
    <script>
        // Actualizar la lista de rasgos seleccionados
        function updateSelectedTraits() {
            const traits = [];
            const categories = ['linguistic', 'style', 'proportion', 'traits', 'games', 'poetry'];
            
            categories.forEach(category => {
                const select = document.getElementById(category);
                if(select.value) {
                    traits.push(select.value);
                }
            });
            
            document.getElementById('selected-traits').innerHTML = traits.join(', ');
        }

        // Configurar event listeners para todos los selects
        document.querySelectorAll('select').forEach(select => {
            select.addEventListener('change', updateSelectedTraits);
        });

  // Función modificada para auto-generar
function autoGenerate() {
    const categories = {
        linguistic: document.querySelector('.auto-category[value="linguistic"]').checked,
        proportion: document.querySelector('.auto-category[value="proportion"]').checked,
        style: document.querySelector('.auto-category[value="style"]').checked,
        traits: document.querySelector('.auto-category[value="traits"]').checked,
        games: document.querySelector('.auto-category[value="games"]').checked,
        poetry: document.querySelector('.auto-category[value="poetry"]').checked
    };

    // Resetear todas las selecciones primero
    Object.keys(categories).forEach(category => {
        const select = document.getElementById(category);
        if(!categories[category]) {
            select.selectedIndex = 0; // Resetear categorías no seleccionadas
        }
    });

    // Generar solo para categorías seleccionadas
    Object.entries(categories).forEach(([category, enabled]) => {
        if(enabled) {
            const select = document.getElementById(category);
            const options = select.querySelectorAll('option:not([value=""])');
            if(options.length > 0) {
                const randomIndex = Math.floor(Math.random() * options.length);
                select.selectedIndex = randomIndex + 1;
            }
        }
    });
    
    updateSelectedTraits();
}

// Función para limpiar todas las selecciones
function resetSelections() {
    const selects = document.querySelectorAll('select');
    selects.forEach(select => {
        select.selectedIndex = 0;
    });
    updateSelectedTraits();
}
 
        // Inicializar mostrando los rasgos seleccionados
        updateSelectedTraits();
    </script>
</body>
</html>
