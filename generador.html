<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Generador de Restricciones Narrativas</title>
    <style>
           .contenedor-generador {
            background: white;
            padding: 30px;
            margin: 30px 0;
            border-radius: 3px;
            box-shadow: var(--sombra-suave);
        }

        select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: var(--borde-fino);
            border-radius: 4px;
            background: white;
            font-family: 'Open Sans', sans-serif;
            font-size: 1em;
        }

        #traits-display {
            padding: 20px;
            margin: 30px 0;
            background: #f8f9fa;
            border-left: 4px solid var(--color-enlace);
        }

        @media (max-width: 768px) {
            .contenedor-principal {
                padding: 20px 15px;
            }
            
            .titulo-principal {
                font-size: 2em;
            }
            
            .boton-navegacion {
                display: block;
                margin: 10px 0;
            }
        }
         .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: #6c757d;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
     <a href="index.html" class="back-button">← Volver a Explicaciones</a>
    <h1>Generador de Restricciones Narrativas</h1>

    <div class="generator-section">
        <h3>Generador Automático</h3>
        <div class="checkbox-group">
            <label><input type="checkbox" class="auto-category" value="linguistic" checked> Lingüísticas</label>
            <label><input type="checkbox" class="auto-category" value="style" checked> Estilos</label>
            <label><input type="checkbox" class="auto-category" value="traits" checked> Rasgos</label>
            <label><input type="checkbox" class="auto-category" value="games" checked> Juegos</label>
            <label><input type="checkbox" class="auto-category" value="poetry" checked> Poesía</label>
        </div>
        <button onclick="autoGenerate()">Generar Aleatorio</button>
    </div>

    <div class="category">
        <h3>RESTRICCIONES LINGÜÍSTICAS</h3>
        <select id="linguistic">
            <option value="">Seleccionar...</option>
            <option>Aspersor malaguita/sevillita</option>
            <option>Jadeo Canario</option>
            <option>Lipograma sin A</option>
            <option>Lipograma sin E</option>
            <option>Lipograma sin I</option>
            <option>Lipograma sin O</option>
            <option>Lipograma sin U</option>
            <option>Onomatopeyas</option>
            <option>Sílaba encadenada</option>
            <option>Solo sintagmas nominales</option>
            <option>Solo infinitivos</option>
            <option>Whatsapp Telégrafo</option>
        </select>
    </div>
    
    <div class="category">
        <h3>CADENCIAS/PROPORCIONES</h3>
        <select id="style">
            <option value="">Seleccionar...</option>
            <option>Número Áureo</option>
            <option>Número Pi</option>
            <option>Compás por Soleá</option>
        </select>
    </div>
    
    <div class="category">
        <h3>ESTILOS</h3>
        <select id="style">
            <option value="">Seleccionar...</option>
            <option>Edgar Allan Poe</option>
            <option>Microrrelato</option>
            <option>Realismo mágico</option>
            <option>Telenovela</option>
            <option>Thriller policíaco</option>   
        </select>
    </div>

    <div class="category">
        <h3>RASGOS DE NARRADOR/PERSONAJE</h3>
        <select id="traits">
            <option value="">Seleccionar...</option>
            <option>Criptobro</option>
            <option>Descompuesto</option>
            <option>Impreciso</option>
            <option>Manifiesto</option>
            <option>Numerófilo</option>
            <option>Pasivo-agresivo</option>
            <option>Perfeccionista</option>
            <option>Optimista patológico</option>
            <option>Trendy</option>
            <option>Verborrea</option>
        </select>
    </div>

    <div class="category">
        <h3>JUEGOS NARRATIVOS</h3>
        <select id="games">
            <option value="">Seleccionar...</option>
            <option>Rebobinado (del final al principio)</option>
            </select>
    </div>

    <div class="category">
        <h3>POESÍA</h3>
        <select id="poetry">
            <option value="">Seleccionar...</option>
            <option>Soneto</option>
            <option>Haiku</option>
            <option>Verso libre</option>
            <option>Limerick</option>
        </select>
    </div>

    <div id="traits-display">
        <h3>Tienes que escribir un texto con estos rasgos:</h3>
        <div id="selected-traits"></div>
    </div>

    <script>
        // Actualizar la lista de rasgos seleccionados
        function updateSelectedTraits() {
            const traits = [];
            const categories = ['linguistic', 'style', 'traits', 'games', 'poetry'];
            
            categories.forEach(category => {
                const select = document.getElementById(category);
                if(select.value) {
                    traits.push(select.value);
                }
            });
            
            document.getElementById('selected-traits').innerHTML = traits.join(', ');
        }

        // Configurar event listeners para todos los selects
        document.querySelectorAll('select').forEach(select => {
            select.addEventListener('change', updateSelectedTraits);
        });

        // Generador automático
        function autoGenerate() {
            const categories = {
                linguistic: document.querySelector('.auto-category[value="linguistic"]').checked,
                style: document.querySelector('.auto-category[value="style"]').checked,
                traits: document.querySelector('.auto-category[value="traits"]').checked,
                games: document.querySelector('.auto-category[value="games"]').checked,
                poetry: document.querySelector('.auto-category[value="poetry"]').checked
            };

            Object.entries(categories).forEach(([category, enabled]) => {
                if(enabled) {
                    const select = document.getElementById(category);
                    const options = select.querySelectorAll('option:not([value=""])');
                    if(options.length > 0) {
                        const randomIndex = Math.floor(Math.random() * options.length);
                        select.selectedIndex = randomIndex + 1; // +1 para saltar la opción vacía
                    }
                }
            });
            
            updateSelectedTraits();
        }

        // Inicializar mostrando los rasgos seleccionados
        updateSelectedTraits();
    </script>
</body>
</html>
